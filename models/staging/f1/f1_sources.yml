version: 2

sources:
  - name: f1_raw
    meta:
      external_location: "data/{name}.csv"
    tables:
      - name: drivers
        config:
          external_location: "data/drivers.csv"
          # This forces DuckDB to treat dob as text so the \N doesn't crash the reader
          options:
            types: {'dob': 'VARCHAR'}
      - name: races
      - name: results
      - name: constructors
      - name: status
      - name: circuits
      - name: constructor_results
      - name: constructor_standings
      - name: driver_standings
      - name: lap_times
      - name: pit_stops
      - name: qualifying
      - name: seasons
      - name: sprint_results